<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Income Tax Calculator</title>
</head>
<body>
    <h1>Income Tax Calculator</h1>
    <button onclick="calculateTax()">Calculate My Tax</button>

    <script>
        function calculateTax() {
            // 1. Input from user
            let fullName = prompt("Enter your Full Name:");
            let panNumber = prompt("Enter your PAN Number (10 characters, uppercase):");
            let dobInput = prompt("Enter your Date of Birth (YYYY-MM-DD):");
            let annualIncome = parseFloat(prompt("Enter your Annual Income (in ₹):"));

            // 2. Validate PAN format
            panNumber = panNumber.trim().toUpperCase();
            if (panNumber.length !== 10) {
                alert("Invalid PAN number! Must be exactly 10 characters.");
                return;
            }

            // 3. Calculate age from DOB
            let dob = new Date(dobInput);
            let today = new Date();
            let age = today.getFullYear() - dob.getFullYear();
            let monthDiff = today.getMonth() - dob.getMonth();
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < dob.getDate())) {
                age--;
            }

            // 4. Tax calculation
            let tax = 0;
            if (annualIncome <= 250000) {
                tax = 0;
            } else if (annualIncome <= 500000) {
                tax = (annualIncome - 250000) * 0.05;
            } else if (annualIncome <= 1000000) {
                tax = (250000 * 0.05) + ((annualIncome - 500000) * 0.20);
            } else {
                tax = (250000 * 0.05) + (500000 * 0.20) + ((annualIncome - 1000000) * 0.30);
            }

            // 5. Round tax to nearest rupee
            tax = Math.round(tax);

            // 6. Display output
            let output = 
                "Name: " + fullName.toUpperCase() + "\n" +
                "PAN: " + panNumber + "\n" +
                "Age: " + age + " years\n" +
                "Annual Income: ₹" + annualIncome.toLocaleString() + "\n" +
                "Calculated Tax: ₹" + tax.toLocaleString();

            alert(output);
        }
    </script>
</body>
</html>